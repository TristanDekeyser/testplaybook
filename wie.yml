- name: Toon de gebruiker die het playbook uitvoert
  hosts: localhost
  gather_facts: no
  tasks:
    - name: Haal de huidige gebruiker op
      command: whoami
      register: current_user

    - name: Toon de uitvoerende gebruiker
      debug:
        msg: "Het playbook wordt uitgevoerd door gebruiker: {{ current_user.stdout }}"

    - name: Controleer welke SSH-sleutel wordt gebruikt
      command: ssh-add -l
      register: ssh_key
      ignore_errors: yes

    - name: Toon de gebruikte SSH-sleutel
      debug:
        msg: "De gebruikte SSH-sleutel(s): {{ ssh_key.stdout_lines }}"
